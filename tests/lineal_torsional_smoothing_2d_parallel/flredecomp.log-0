 In flredecomp
fluidity.state_types imported successfully; location: 
/data/tmcmanus/fluidity/python/fluidity/state_types.pyc
Input base name: lineal_torsional_smoothing_2d
Output base name: lineal_torsional_smoothing_2d_flredecomp
Input number of processes: 1
Target number of processes: 2
Job number of processes: 2
 Options tree:
fluidity_options/
  simulation_name/
    __value/
     <value>: lineal_torsional_smoothing_2d
      lines: 1
  problem_type/
    __value/
     <value>: fluids
      lines: 1
  geometry/
    dimension/
      __value/
       <value>: 2 
        rank: 0
    mesh::CoordinateMesh/
      name: CoordinateMesh
      from_file/
        file_name: src/square
        format::gmsh/
          name: gmsh
        stat/
          include_in_stat: NULL
    quadrature/
      degree/
        __value/
         <value>: 4 
          rank: 0
  io/
    dump_format/
      __value: vtk
    dump_period/
      constant/
        __value/
         <value>: 0 
          rank: 0
    output_mesh::CoordinateMesh/
      name: CoordinateMesh
    stat: NULL
  timestepping/
    current_time/
      __value/
       <value>: 0 
        rank: 0
    timestep/
      __value/
       <value>: 1 
        rank: 0
    finish_time/
      __value/
       <value>: 1 
        rank: 0
  material_phase::Fluid/
    name: Fluid
    vector_field::Velocity/
      name: Velocity
      rank: 1
      prescribed/
        mesh::CoordinateMesh/
          name: CoordinateMesh
        value::WholeMesh/
          name: WholeMesh
          constant/
            __value/
             <value>: 0 0 
              rank: 1
              shape: 2
              dim1: dim
        output: NULL
        stat/
          include_in_stat: NULL
        detectors/
          exclude_from_detectors: NULL
  mesh_adaptivity/
    mesh_movement/
      lineal_torsional_smoothing: NULL
      vector_field::GridVelocity/
        name: GridVelocity
        rank: 1
        prescribed/
          mesh::CoordinateMesh/
            name: CoordinateMesh
          value::WholeMesh/
            name: WholeMesh
            python/
              __value/
               <value>: import numpy
def val(X,t):

  if X[1]>=1.0:
    #return (0.0,0.1-0.4*(X[0]-0.5)**2)
    return (0.0,0.15*numpy.sin(2*numpy.pi*X[0]))
  else:
    return (0.0,0.0)
                lines: 20
                type: code
                language: python
          output: NULL
          stat/
            include_in_stat: NULL
          detectors/
            exclude_from_detectors: NULL
 In initialise_ocean_forcing_readers
 Exiting initialise_ocean_forcing_readers
 There are           1 meshes.
 Opening src/square.msh for reading.
 Adding element-element list to mesh CoordinateMesh
 Adding node-element list to mesh CoordinateMesh
 Using the new makeeelist
 Number of surface elements:           80
 Number of unique surface elements:           80
 Creating universal numbering for a trailing receives halo
Owned nodes universal node number base = 0
Total receive_nodes = 0
 Creating universal numbering for a trailing receives halo
Owned nodes universal node number base = 0
Total receive_nodes = 0
 Creating universal numbering for a trailing receives halo
Owned nodes universal node number base = 0
Total receive_nodes = 0
 Creating universal numbering for a trailing receives halo
Owned nodes universal node number base = 0
Total receive_nodes = 0
 Inside get_coplanar_ids
 Adding node-element list to mesh SurfaceCoordinateMesh
 Before merge_surface_ids, n/o local coplanes:           4
 In merge_surface_ids
 In derive_maximal_surface_element_halo
 Maximal receive elements:            0
 Owned elements:           80
 Exiting derive_maximal_surface_element_halo
 Performing surface merge            1
 Number of merged surface IDs:            0
 Exiting merge_surface_ids
 Surface id stats for mesh CoordinateMesh
 Surface id,  n/o surface elements,       surface area
         1                     20     1.000000000E+00
         2                     20     1.000000000E+00
         3                     20     1.000000000E+00
         4                     20     1.000000000E+00
 Total number of surface elements:          80
Total surface area:     4.000000000E+00
 domain_bbox - dim, range =           1   0.0000000000000000        1.0000000000000000     
 domain_bbox - dim, range =           2   0.0000000000000000        1.0000000000000000     
 domain_volume =   1.0000000000000007     
 In allocate_and_insert_vector_field, field is: Velocity
 Is field prognostic?  F
 Is field prescribed?  T
 Is field constant?  T
 Is field diagnostic?  F
 Velocity is on mesh CoordinateMesh
     Inserting children of: /material_phase[0]/vector_field::Velocity/prescribed
     Inserting children of: /material_phase[0]/vector_field::Velocity/prescribed/spatial_discretisation/inner_element
 In allocate_and_insert_vector_field, field is: GridVelocity
 Is field prognostic?  F
 Is field prescribed?  T
 Is field constant?  F
 Is field diagnostic?  F
 GridVelocity is on mesh CoordinateMesh
     Inserting children of: /mesh_adaptivity/mesh_movement/vector_field::GridVelocity/prescribed
     Inserting children of: /mesh_adaptivity/mesh_movement/vector_field::GridVelocity/prescribed/spatial_discretisation/inner_element
 In initialise_prognostic_fields
 In set_prescribed_field_values
 In zoltan_drive
 Assuming linear mesh is: CoordinateMesh
 Creating universal numbering for a trailing receives halo
Owned nodes universal node number base = 0
Total receive_nodes = 0
 Creating universal numbering for a trailing receives halo
Owned nodes universal node number base = 0
Total receive_nodes = 0
 Transferring element-element list to mesh 
 local minimum element quality =    1.0000000000000000     
 global minimum element quality =    1.0000000000000000     
 Initial load_imbalance_tolerance set to    1.0200000000000000     
ZOLTAN Load balancing method = 9 (GRAPH)
 No final partitioner option set, defaulting to using ParMETIS.
 Setting partitioning approach to PARTITION.
 Setting ParMETIS method to PartKway.
 in zoltan_load_balance
Build configuration:

  ZOLTAN_ID_TYPE: unsigned int (4 bytes)
  ZOLTAN_GNO_TYPE: ssize_t, (8 bytes)
  MPI_Datatype for ZOLTAN_ID_TYPE: MPI_UNSIGNED
  MPI_Datatype for ZOLTAN_GNO_TYPE: MPI_LONG
  Third party library: ParMetis version 4.0.3
  Third party library: PTScotch version 6_0_3
  Third party library: Scotch version 6_0_3

ZOLTAN Parameter IMBALANCE_TOL[0] = 1.020000
ZOLTAN Parameter AUTO_MIGRATE = FALSE
ZOLTAN Parameter MIGRATE_ONLY_PROC_CHANGES = 1
ZOLTAN Parameter OBJ_WEIGHT_DIM = 1
ZOLTAN Parameter EDGE_WEIGHT_DIM = 1
ZOLTAN Parameter DEBUG_LEVEL = 1
ZOLTAN Parameter DEBUG_PROCESSOR = 0
ZOLTAN Parameter DETERMINISTIC = TRUE
ZOLTAN Parameter TIMER = 1 (wall)
ZOLTAN Parameter NUM_GID_ENTRIES = 1
ZOLTAN Parameter NUM_LID_ENTRIES = 1
ZOLTAN Parameter RETURN_LISTS = IMPORT AND EXPORT
ZOLTAN Parameter NUM_GLOBAL_PARTS = 2
ZOLTAN Parameter NUM_LOCAL_PARTS = 1
ZOLTAN Parameter REMAP = 1
ZOLTAN Parameter SEED = 123456789 (123456789)
ZOLTAN Parameter LB_APPROACH = PARTITION
ZOLTAN Parameter GRAPH_PACKAGE = PARMETIS
ZOLTAN Parameter PARMETIS_METHOD = PARTKWAY
ZOLTAN Parameter PARMETIS_OUTPUT_LEVEL = 0
ZOLTAN Parameter PARMETIS_SEED = 15
ZOLTAN Parameter PARMETIS_ITR = 0.000000
ZOLTAN Parameter PARMETIS_COARSE_ALG = 2
ZOLTAN Parameter PARMETIS_FOLD = 0
Third party library real type is 8-byte real number
Third party library index type is 4-byte integer
Third party library weight type is 4-byte integer
Zoltan was compiled with support for: ParMetis Scotch PT-Scotch 
ZOLTAN Parameter CHECK_GRAPH = 1
ZOLTAN Parameter SCATTER_GRAPH = 1
ZOLTAN Parameter FINAL_OUTPUT = 0
ZOLTAN Parameter USE_TIMERS = 0
ZOLTAN Parameter ADD_OBJ_WEIGHT = NONE
ZOLTAN Parameter GRAPH_SYMMETRIZE = NONE
ZOLTAN Parameter GRAPH_SYM_WEIGHT = ADD
ZOLTAN Parameter GRAPH_BIPARTITE_TYPE = OBJ
ZOLTAN Parameter GRAPH_BUILD_TYPE = NORMAL
ZOLTAN Parameter GRAPH_FAST_BUILD_BASE = 0
 In zoltan_cb_owned_node_count
 In zoltan_cb_get_owned_nodes
 In zoltan_cb_get_num_edges
 In zoltan_cb_get_edge_list
 In zoltan_cb_owned_node_count
 In zoltan_cb_get_owned_nodes
 In zoltan_cb_pack_node_sizes
 exiting zoltan_load_balance
 In zoltan_migration_phase_one; objects to import:            0
 In zoltan_migration_phase_one; objects to export:          285
 In zoltan_cb_pack_node_sizes
 In zoltan_cb_pack_nodes
 In deal_with_exports
 In zoltan_migration_phase_two; objects to import:            0
 In zoltan_migration_phase_two; objects to export:           53
 In zoltan_cb_pack_halo_node_sizes
 In zoltan_cb_pack_halo_nodes
 In reconstruct_enlist
 Found          654  possible new elements.
 Of these,          600  are non-degenerate.
 Adding node-element list to mesh TemporaryZoltanMesh
 Adding element-element list to mesh TemporaryZoltanMesh
 Using the new makeeelist
 Of the          600  full elements,          600  are connected.
 Removing node-element list from mesh TemporaryZoltanMesh
 Removing element-element list from mesh TemporaryZoltanMesh
 Exiting reconstruct_enlist
 In reconstruct_senlist
 Adding node-node list to mesh CoordinateMesh
 SUBROUTINE POSINM()
 Constructing lMatrix using linked-lists
 Compressing matrix
 subroutine compress_sparsity
 END subroutine compress_sparsity
 END SUBROUTINE POSINM
 Found           45  possible new surface elements.
 Of these,           43  are non-degenerate.
 Adding element-element list to mesh CoordinateMesh
 Adding node-element list to mesh CoordinateMesh
 Using the new makeeelist
 Number of surface elements:           43
 Number of unique surface elements:           43
 Exiting reconstruct_senlist
 In reconstruct_halo
 In renumber_positions_trailing_receives
 In renumber_positions
 Creating universal numbering for a trailing receives halo
Owned nodes universal node number base = 0
Total receive_nodes = 24
 Creating universal numbering for a trailing receives halo
Owned nodes universal node number base = 0
Total receive_nodes = 53
 Exiting renumber_positions
 Removing node-node list from mesh CoordinateMesh
 Removing node-element list from mesh CoordinateMesh
 Removing element-element list from mesh CoordinateMesh
 Exiting renumber_positions_trailing_receives
 In derive_maximal_element_halo
 Maximal receive elements:           52
 Owned elements:          548
 Adding node-element list to mesh CoordinateMesh
 Exiting derive_maximal_element_halo
 In renumber_positions_elements_trailing_receives
 In renumber_positions_elements
 Adding element-element list to mesh CoordinateMesh
 Adding node-element list to mesh CoordinateMesh
 Using the new makeeelist
 Number of surface elements:           43
 Number of unique surface elements:           43
 Creating universal numbering for a trailing receives halo
Owned nodes universal node number base = 0
Total receive_nodes = 52
 Creating universal numbering for a trailing receives halo
Owned nodes universal node number base = 0
Total receive_nodes = 52
 Exiting renumber_positions_elements
 Removing node-element list from mesh CoordinateMesh
 Exiting renumber_positions_elements_trailing_receives
 Removing element-element list from mesh CoordinateMesh
 Adding element-element list to mesh CoordinateMesh
 Using the new makeeelist
 Number of surface elements:           43
 Number of unique surface elements:           43
 Exiting reconstruct_halo
 in initialise_transfer
 Updating halos for state Fluid
 In allocate_and_insert_vector_field, field is: Velocity
 Is field prognostic?  F
 Is field prescribed?  T
 Is field constant?  T
 Is field diagnostic?  F
 Velocity is on mesh CoordinateMesh
     Inserting children of: /material_phase[0]/vector_field::Velocity/prescribed
     Inserting children of: /material_phase[0]/vector_field::Velocity/prescribed/spatial_discretisation/inner_element
 In allocate_and_insert_vector_field, field is: GridVelocity
 Is field prognostic?  F
 Is field prescribed?  T
 Is field constant?  F
 Is field diagnostic?  F
 GridVelocity is on mesh CoordinateMesh
     Inserting children of: /mesh_adaptivity/mesh_movement/vector_field::GridVelocity/prescribed
     Inserting children of: /mesh_adaptivity/mesh_movement/vector_field::GridVelocity/prescribed/spatial_discretisation/inner_element
 exiting initialise_transfer
 in transfer_fields
 Amount of data to be transferred per detector:            6
 In zoltan_cb_pack_field_sizes
 In zoltan_cb_pack_fields
 Packed            0  detectors
 Exiting zoltan_cb_pack_fields
 Merged           0 detectors with local detector lists
 Updating halos for state 
 exiting transfer_fields
 In set_prescribed_field_values
 In populate_boundary_conditions
 In set_boundary_conditions
 In set_dirichlet_consistent
 Removing node-element list from mesh CoordinateMesh
 Removing element-element list from mesh CoordinateMesh
 Removing node-element list from mesh SurfaceCoordinateMesh
 Removing element-element list from mesh PWCMesh
 Exiting zoltan_drive
 Checkpointing simulation
 Checkpointing mesh CoordinateMesh
 Checkpointing halos
 In write_halos
 Exiting write_halos
 Checkpointing options tree
 Removing node-element list from mesh CoordinateMesh
 Removing element-element list from mesh CoordinateMesh
 Exiting flredecomp
