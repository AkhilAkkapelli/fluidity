 In flredecomp
fluidity.state_types imported successfully; location: 
/data/tmcmanus/fluidity/python/fluidity/state_types.pyc
Input base name: laplacian_smoothing_3d
Output base name: laplacian_smoothing_3d_flredecomp
Input number of processes: 1
Target number of processes: 2
Job number of processes: 2
 Options tree:
fluidity_options/
  simulation_name/
    __value/
     <value>: laplacian_smoothing_3d
      lines: 1
  problem_type/
    __value/
     <value>: fluids
      lines: 1
  geometry/
    dimension/
      __value/
       <value>: 3 
        rank: 0
    mesh::CoordinateMesh/
      name: CoordinateMesh
      from_file/
        file_name: src/unit_cube
        format::gmsh/
          name: gmsh
        stat/
          include_in_stat: NULL
    quadrature/
      degree/
        __value/
         <value>: 4 
          rank: 0
  io/
    dump_format/
      __value: vtk
    dump_period/
      constant/
        __value/
         <value>: 0 
          rank: 0
    output_mesh::CoordinateMesh/
      name: CoordinateMesh
    stat: NULL
  timestepping/
    current_time/
      __value/
       <value>: 0 
        rank: 0
    timestep/
      __value/
       <value>: 1 
        rank: 0
    finish_time/
      __value/
       <value>: 1 
        rank: 0
  material_phase::Fluid/
    name: Fluid
    vector_field::Velocity/
      name: Velocity
      rank: 1
      prescribed/
        mesh::CoordinateMesh/
          name: CoordinateMesh
        value::WholeMesh/
          name: WholeMesh
          constant/
            __value/
             <value>: 0 0 0 
              rank: 1
              shape: 3
              dim1: dim
        output: NULL
        stat/
          include_in_stat: NULL
        detectors/
          exclude_from_detectors: NULL
  mesh_adaptivity/
    mesh_movement/
      laplacian_smoothing: NULL
      vector_field::GridVelocity/
        name: GridVelocity
        rank: 1
        prescribed/
          mesh::CoordinateMesh/
            name: CoordinateMesh
          value::WholeMesh/
            name: WholeMesh
            python/
              __value/
               <value>: import numpy
def val(X,t):

  if X[1]>=1.0:
    #return (0.0,0.1-0.4*(X[0]-0.5)**2)
    return (0.0,0.15*numpy.sin(2*numpy.pi*X[0])*numpy.sin(2*numpy.pi*X[2]),0.0)
    #Heart
    #return (0.0,4*(-1.0*X[0]**2+X[0])*(-1.0*X[2]**2+X[2]),0.0)
    #return (0.0,0.0,0.0)
  elif X[1]<=0.0:
    return (0.0,0.15*numpy.sin(2*numpy.pi*X[0])*numpy.sin(2*numpy.pi*X[2]),0.0)
    #Heart
    #return (0.0,-0.5*(8.03*X[0]**3 -3.38*X[0]**2 - 4.64*X[0])*(2*X[2]**2-2*X[2]),0.0)
  elif X[0]>=1.0:
    return (0.15*numpy.sin(2*numpy.pi*X[1])*numpy.sin(2*numpy.pi*X[2]),0.0,0.0)
    #Heart
    #return (3.5*(-1.0*X[1]**2+X[1])*(-1.0*X[2]**2+X[2]),0.0,0.0)
  elif X[0]<=0.0:
    return (0.15*numpy.sin(2*numpy.pi*X[1])*numpy.sin(2*numpy.pi*X[2]),0.0,0.0)
    #Heart
    #return (-3*(-1.0*X[1]**2+X[1])*(-1.0*X[2]**2+X[2]),0.0,0.0)
  elif X[2]>=1.0:
    return (0.0,0.0,0.15*numpy.sin(2*numpy.pi*X[0])*numpy.sin(2*numpy.pi*X[1]))
    #Heart
    #return (0.0,0.0,2*(-1.0*X[0]**2+X[0])*(-1.0*X[1]**2+X[1]))
  elif X[2]<=0.0:
    return (0.0,0.0,0.15*numpy.sin(2*numpy.pi*X[0])*numpy.sin(2*numpy.pi*X[1]))
    #Heart
    #return (0.0,0.0,-2*(-1.0*X[0]**2+X[0])*(-1.0*X[1]**2+X[1]))
  else:
    return (0.0,0.0,0.0)
                lines: 20
                type: code
                language: python
          output: NULL
          stat/
            include_in_stat: NULL
          detectors/
            exclude_from_detectors: NULL
 In initialise_ocean_forcing_readers
 Exiting initialise_ocean_forcing_readers
 There are           1 meshes.
 Adding element-element list to mesh EmptyMesh
 Adding node-element list to mesh EmptyMesh
 Using the new makeeelist
 Number of surface elements:            0
 Number of unique surface elements:            0
 Creating universal numbering for a trailing receives halo
Owned nodes universal node number base = 31898
Total receive_nodes = 0
 Creating universal numbering for a trailing receives halo
Owned nodes universal node number base = 173627
Total receive_nodes = 0
 Creating universal numbering for a trailing receives halo
Owned nodes universal node number base = 31898
Total receive_nodes = 0
 Creating universal numbering for a trailing receives halo
Owned nodes universal node number base = 173627
Total receive_nodes = 0
 Inside get_coplanar_ids
 Adding node-element list to mesh SurfaceEmptyMesh
 Before merge_surface_ids, n/o local coplanes:           0
 In merge_surface_ids
 In derive_maximal_surface_element_halo
 Maximal receive elements:            0
 Owned elements:            0
 Exiting derive_maximal_surface_element_halo
 Performing surface merge            1
 Number of merged surface IDs:            0
 Exiting merge_surface_ids
 Surface id stats for mesh CoordinateMesh
 Surface id,  n/o surface elements,       surface area
 Total number of surface elements:           0
Total surface area:     0.000000000E+00
 domain_bbox - dim, range =           1   1.7976931348623157E+308  -1.7976931348623157E+308
 domain_bbox - dim, range =           2   1.7976931348623157E+308  -1.7976931348623157E+308
 domain_bbox - dim, range =           3   1.7976931348623157E+308  -1.7976931348623157E+308
 domain_volume =   0.0000000000000000     
 In allocate_and_insert_vector_field, field is: Velocity
 Is field prognostic?  F
 Is field prescribed?  T
 Is field constant?  T
 Is field diagnostic?  F
 Velocity is on mesh CoordinateMesh
     Inserting children of: /material_phase[0]/vector_field::Velocity/prescribed
     Inserting children of: /material_phase[0]/vector_field::Velocity/prescribed/spatial_discretisation/inner_element
 In allocate_and_insert_vector_field, field is: GridVelocity
 Is field prognostic?  F
 Is field prescribed?  T
 Is field constant?  F
 Is field diagnostic?  F
 GridVelocity is on mesh CoordinateMesh
     Inserting children of: /mesh_adaptivity/mesh_movement/vector_field::GridVelocity/prescribed
     Inserting children of: /mesh_adaptivity/mesh_movement/vector_field::GridVelocity/prescribed/spatial_discretisation/inner_element
 In initialise_prognostic_fields
 In set_prescribed_field_values
 In zoltan_drive
 Assuming linear mesh is: CoordinateMesh
 Creating universal numbering for a trailing receives halo
Owned nodes universal node number base = 173627
Total receive_nodes = 0
 Creating universal numbering for a trailing receives halo
Owned nodes universal node number base = 173627
Total receive_nodes = 0
 Transferring element-element list to mesh 
 local minimum element quality =    1.0000000000000000     
 global minimum element quality =    1.0000000000000000     
 Initial load_imbalance_tolerance set to    1.0200000000000000     
 No final partitioner option set, defaulting to using ParMETIS.
 Setting partitioning approach to PARTITION.
 Setting ParMETIS method to PartKway.
 in zoltan_load_balance
 In zoltan_cb_owned_node_count
 In zoltan_cb_get_edge_list
 In zoltan_cb_owned_node_count
 In zoltan_cb_pack_node_sizes
 exiting zoltan_load_balance
 In zoltan_migration_phase_one; objects to import:        15946
 In zoltan_migration_phase_one; objects to export:            0
 In zoltan_cb_unpack_nodes
 In zoltan_migration_phase_two; objects to import:         2424
 In zoltan_migration_phase_two; objects to export:            0
 In zoltan_cb_unpack_halo_nodes
 In reconstruct_enlist
 Found       104709  possible new elements.
 Of these,        97887  are non-degenerate.
 Adding node-element list to mesh TemporaryZoltanMesh
 Adding element-element list to mesh TemporaryZoltanMesh
 Using the new makeeelist
 Of the        97887  full elements,        97887  are connected.
 Removing node-element list from mesh TemporaryZoltanMesh
 Removing element-element list from mesh TemporaryZoltanMesh
 Exiting reconstruct_enlist
 In reconstruct_senlist
 Adding node-node list to mesh CoordinateMesh
 SUBROUTINE POSINM()
 Constructing lMatrix using linked-lists
 Compressing matrix
 subroutine compress_sparsity
 END subroutine compress_sparsity
 END SUBROUTINE POSINM
 Found         9812  possible new surface elements.
 Of these,         9452  are non-degenerate.
 Adding element-element list to mesh CoordinateMesh
 Adding node-element list to mesh CoordinateMesh
 Using the new makeeelist
 Number of surface elements:         9452
 Number of unique surface elements:         9452
 Exiting reconstruct_senlist
 In reconstruct_halo
 In renumber_positions_trailing_receives
 In renumber_positions
 Creating universal numbering for a trailing receives halo
Owned nodes universal node number base = 15952
Total receive_nodes = 1143
 Creating universal numbering for a trailing receives halo
Owned nodes universal node number base = 15952
Total receive_nodes = 2424
 Exiting renumber_positions
 Removing node-node list from mesh CoordinateMesh
 Removing node-element list from mesh CoordinateMesh
 Removing element-element list from mesh CoordinateMesh
 Exiting renumber_positions_trailing_receives
 In derive_maximal_element_halo
 Maximal receive elements:        14063
 Owned elements:        83824
 Adding node-element list to mesh CoordinateMesh
 Exiting derive_maximal_element_halo
 In renumber_positions_elements_trailing_receives
 In renumber_positions_elements
 Adding element-element list to mesh CoordinateMesh
 Adding node-element list to mesh CoordinateMesh
 Using the new makeeelist
 Number of surface elements:         9452
 Number of unique surface elements:         9452
 Creating universal numbering for a trailing receives halo
Owned nodes universal node number base = 89803
Total receive_nodes = 14063
 Creating universal numbering for a trailing receives halo
Owned nodes universal node number base = 89803
Total receive_nodes = 14063
 Exiting renumber_positions_elements
 Removing node-element list from mesh CoordinateMesh
 Exiting renumber_positions_elements_trailing_receives
 Removing element-element list from mesh CoordinateMesh
 Adding element-element list to mesh CoordinateMesh
 Using the new makeeelist
 Number of surface elements:         9452
 Number of unique surface elements:         9452
 Exiting reconstruct_halo
 in initialise_transfer
 Updating halos for state Fluid
 In allocate_and_insert_vector_field, field is: Velocity
 Is field prognostic?  F
 Is field prescribed?  T
 Is field constant?  T
 Is field diagnostic?  F
 Velocity is on mesh CoordinateMesh
     Inserting children of: /material_phase[0]/vector_field::Velocity/prescribed
     Inserting children of: /material_phase[0]/vector_field::Velocity/prescribed/spatial_discretisation/inner_element
 In allocate_and_insert_vector_field, field is: GridVelocity
 Is field prognostic?  F
 Is field prescribed?  T
 Is field constant?  F
 Is field diagnostic?  F
 GridVelocity is on mesh CoordinateMesh
     Inserting children of: /mesh_adaptivity/mesh_movement/vector_field::GridVelocity/prescribed
     Inserting children of: /mesh_adaptivity/mesh_movement/vector_field::GridVelocity/prescribed/spatial_discretisation/inner_element
 exiting initialise_transfer
 in transfer_fields
 Amount of data to be transferred per detector:            7
 In zoltan_cb_unpack_fields
 Unpacked           0 detectors
 Exiting zoltan_cb_unpack_fields
 Merged           0 detectors with local detector lists
 Updating halos for state 
 exiting transfer_fields
 In set_prescribed_field_values
 In populate_boundary_conditions
 In set_boundary_conditions
 In set_dirichlet_consistent
 Removing node-element list from mesh CoordinateMesh
 Removing element-element list from mesh CoordinateMesh
 Removing node-element list from mesh SurfaceEmptyMesh
 Removing element-element list from mesh PWCMesh
 Exiting zoltan_drive
 Checkpointing simulation
 Checkpointing mesh CoordinateMesh
 Checkpointing halos
 In write_halos
 Exiting write_halos
 Removing node-element list from mesh CoordinateMesh
 Removing element-element list from mesh CoordinateMesh
 Exiting flredecomp
